<div class="d-flex">
    <form [formGroup]="myForm" (ngSubmit)="onSave()" class="m-4">

        <!-- Name -->
        <div class="mb-3">
            <label class="col-form-label">Nombre de usuario</label>
            <div class="col-sm-9">
                <input class="form-control"
                       placeholder="Nombre de usuario"
                       formControlName="name"
                >
                <span *ngIf="isFieldValid('name')" class="form-text text-danger">
                    Debe de ser en formato de nombre y apellido
                </span>
            </div>
        </div>  
        
        <!-- Password -->
        <div class="mb-3">
            <label class="col-form-label">Contraseña</label>
            <div class="col-sm-9">
                <input type="password"
                       class="form-control"
                       placeholder="Establezca su contraseña"
                       formControlName="password"   
                >
                <span *ngIf="isFieldValid('password')" class="form-text text-danger">
                     La contraseña debe de ser mayor de 6 caracteres.
                </span> 
            </div>
        </div>
    
        <!-- Password2 -->
        <div class="mb-3">
            <label class="col-form-label">Confirmar la Contraseña</label>
            <div class="col-sm-9">
                <input type="password"
                       class="form-control"
                       placeholder="Repita la contraseña"
                       formControlName="password2"
                >
                <span *ngIf="isFieldValid('password2')" class="form-text text-danger">
                     Las contraseñas deben de ser iguales
                </span>
            </div>
        </div>
    
        <!-- Email -->
        <div class="mb-3">
            <label class="col-sm-3 col-form-label">Email</label>
            <div class="col-sm-9">
                <input type="email"
                       class="form-control"
                       placeholder="Introduzca un email válido"
                       formControlName="email"
                >
                <span *ngIf="isEmailValid" class="form-text text-danger">
                    {{ myForm.get('email')?.hasError('emailExists') ? 'El correo electrónico ya existe' : 'Ingrese un correo válido' }}
                  </span>
            </div>
        </div>
    
        <!-- Check -->
        <div class="form-check mb-3 mt-3">
            <input formControlName="subscribed" class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked>
            <label class="form-check-label" for="flexCheckChecked">
              Envíame ofertas promocionales
            </label>
        </div>
    
        <!-- Countries -->
        <div class="form-floating">
            <select class="form-select" id="countries" formControlName="country" >
              <option *ngFor="let country of countries" [value]="country.name">{{country.name}}</option>
            </select>
            <label for="countries">Selecione su País</label>
        </div>
    
          <!-- City -->
        <div class="mb-3 mt-3">
            <label class="col-sm-3 col-form-label">Ciudad</label>
            <div class="col-sm-9">
                <input class="form-control"
                       placeholder="Nombre de su ciudad"
                       formControlName="city"
                >
            </div>
        </div>  
    
        <!-- Button -->
        <div class="row">
            <div class="col">
                <button 
                    class="btn btn-primary"
                    type="submit"
                >
                {{ userToEdit ? 'Actualizar' : 'Crear' }}
                </button>
            </div>
        </div>
          
    </form>

    <app-table-user [users]="users" (onEditUser)="getEditedUser($event)"></app-table-user>

</div>






